<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta
      name="description"
      content="Naughty Nalah's Playhouse - Exclusive content and unforgettable experiences"
    />
    <title>Naughty Nalah's Playhouse</title>

    <!-- Stylesheets -->
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css"
    />
    <link rel="stylesheet" href="src/css/base.css" />
  </head>
  <body
    class="theme-dark font-sans leading-normal tracking-normal min-h-screen overflow-x-hidden"
  >
    <!-- Loading Overlay -->
    <div
      class="loading-overlay fixed inset-0 bg-black z-50 flex items-center justify-center"
    >
      <div class="loading-spinner">
        <span class="sr-only">Loading...</span>
      </div>
    </div>

    <!-- Background Container -->
    <div class="background-container fixed inset-0">
      <div class="smoke-ripple-container"></div>
      <div class="smoke-overlay"></div>
    </div>

    <!-- Main Content -->
    <main>
      <!-- Title Section -->
      <div class="text-center mt-8 space-y-6">
        <h1 class="text-5xl sm:text-6xl font-extrabold text-pink-500">
          Naughty Nalah's Playhouse
        </h1>

        <p
          class="text-lg sm:text-xl text-pink-200 mx-auto font-light leading-relaxed max-w-2xl"
        >
          Discover exclusive content and unforgettable experiences with
          <span class="font-medium text-pink-400">Nalah</span>
        </p>
      </div>
    </main>

    <!-- Theme Toggle -->
    <button
      id="themeToggle"
      class="fixed bottom-4 right-4 p-2 rounded-full bg-pink-900/30 text-pink-300 backdrop-blur-md shadow-glow transition-effect"
      aria-label="Toggle theme"
    >
      ðŸŒ™
    </button>

    <!-- Load jQuery first -->
    <script
      src="https://code.jquery.com/jquery-3.6.0.min.js"
      crossorigin="anonymous"
    ></script>

    <!-- Initialize app after jQuery loads -->
    <script>
      window.addEventListener("load", function checkJQuery() {
        if (window.jQuery) {
          const rippleScript = document.createElement("script");
          rippleScript.src =
            "https://cdnjs.cloudflare.com/ajax/libs/jquery.ripples/0.5.3/jquery.ripples.min.js";

          rippleScript.onload = function () {
            import("./src/js/main.js")
              .then(() => {
                const loadingOverlay =
                  document.querySelector(".loading-overlay");
                if (loadingOverlay) {
                  loadingOverlay.style.opacity = "0";
                  setTimeout(() => {
                    loadingOverlay.style.display = "none";
                  }, 500);
                }
              })
              .catch((error) => {
                console.error("Error loading main script:", error);
                handleLoadingError();
              });
          };

          rippleScript.onerror = function () {
            console.error("Failed to load ripples plugin");
            handleLoadingError();
          };

          document.body.appendChild(rippleScript);
        } else {
          console.error("jQuery not loaded");
          handleLoadingError();
        }
      });

      function handleLoadingError() {
        document
          .querySelector(".background-container")
          ?.classList.add("fallback");
        const loadingOverlay = document.querySelector(".loading-overlay");
        if (loadingOverlay) {
          loadingOverlay.style.opacity = "0";
          setTimeout(() => {
            loadingOverlay.style.display = "none";
          }, 500);
        }
      }

      // Failsafe for loading overlay
      setTimeout(handleLoadingError, 5000);
    </script>
  </body>
</html>
